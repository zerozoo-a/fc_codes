{"version":3,"file":"average.js","sourceRoot":"","sources":["../../src/average.ts"],"names":[],"mappings":";;;AAAA,6DAA+B;AAC/B,wDAA0B;AAC1B,sDAAwB;AAExB,2CAAgE;AAEhE;;;;;;;;;;;;;;;;;GAiBG;AACH,SAAS,OAAO,CACd,QAAW;IAEX,IAAI,IAAI,GAAG,CAAC,CAAC;IAEb,IAAI,IAAA,kBAAU,EAAS,QAAQ,CAAC,EAAE;QAChC,OAAO,IAAA,cAAI,EACT,QAAQ,EACR,IAAA,cAAI,EAAC,cAAM,OAAA,IAAI,EAAE,EAAN,CAAM,CAAC,EAClB,aAAG,EACH,UAAC,CAAC,IAAK,OAAA,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,EAA7B,CAA6B,CACf,CAAC;KACzB;IAED,IAAI,IAAA,uBAAe,EAAS,QAAQ,CAAC,EAAE;QACrC,OAAO,IAAA,cAAI,EACT,QAAQ,EACR,IAAA,cAAI,EAAC,cAAM,OAAA,IAAI,EAAE,EAAN,CAAM,CAAC,EAClB,aAAG,EACH,UAAC,CAAC,IAAK,OAAA,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,EAA7B,CAA6B,CACf,CAAC;KACzB;IAED,MAAM,IAAI,SAAS,CAAC,sDAAsD,CAAC,CAAC;AAC9E,CAAC;AAED,kBAAe,OAAO,CAAC","sourcesContent":["import peek from \"./Lazy/peek\";\nimport pipe from \"./pipe\";\nimport sum from \"./sum\";\nimport ReturnValueType from \"./types/ReturnValueType\";\nimport { isAsyncIterable, isIterable } from \"./_internal/utils\";\n\n/**\n * Returns the average of the given (Iterable/AsyncIterable) (mean)\n *\n * @example\n * ```ts\n * average([]); // NaN\n * average([1, 2, 3, 4, 5]); // 6\n * await average(toAsync([1, 2, 3, 4, 5])); // 6\n *\n * // with pipe\n * pipe(\n *  [1, 2, 3, 4, 5],\n *  average,\n * ); // 6\n * ```\n *\n * see {@link https://fxts.dev/docs/pipe | pipe}\n */\nfunction average<T extends Iterable<number> | AsyncIterable<number>>(\n  iterable: T,\n): ReturnValueType<T> {\n  let size = 0;\n\n  if (isIterable<number>(iterable)) {\n    return pipe(\n      iterable,\n      peek(() => size++),\n      sum,\n      (a) => (size === 0 ? NaN : a / size),\n    ) as ReturnValueType<T>;\n  }\n\n  if (isAsyncIterable<number>(iterable)) {\n    return pipe(\n      iterable,\n      peek(() => size++),\n      sum,\n      (a) => (size === 0 ? NaN : a / size),\n    ) as ReturnValueType<T>;\n  }\n\n  throw new TypeError(\"'iterable' must be type of Iterable or AsyncIterable\");\n}\n\nexport default average;\n"]}