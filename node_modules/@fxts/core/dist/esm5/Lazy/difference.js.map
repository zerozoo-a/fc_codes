{"version":3,"file":"difference.js","sourceRoot":"","sources":["../../../src/Lazy/difference.ts"],"names":[],"mappings":"AAAA,OAAO,QAAQ,MAAM,aAAa,CAAC;AAEnC,OAAO,EAAE,eAAe,EAAE,UAAU,EAAE,MAAM,oBAAoB,CAAC;AACjE,OAAO,YAAY,MAAM,gBAAgB,CAAC;AA8C1C,SAAS,UAAU,CACjB,SAAyC,EACzC,SAA0C;IAO1C,IAAI,SAAS,KAAK,SAAS,EAAE;QAC3B,OAAO,UAAC,SAAc;YACpB,OAAO,UAAU,CAAC,SAAgB,EAAE,SAAS,CAAC,CAAC;QACjD,CAAC,CAAC;KACH;IAED,IAAI,UAAU,CAAC,SAAS,CAAC,IAAI,UAAU,CAAC,SAAS,CAAC,EAAE;QAClD,OAAO,YAAY,CAAC,QAAQ,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC;KACrD;IACD,IAAI,UAAU,CAAC,SAAS,CAAC,IAAI,eAAe,CAAC,SAAS,CAAC,EAAE;QACvD,OAAO,YAAY,CAAC,QAAQ,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC;KACrD;IACD,IAAI,eAAe,CAAC,SAAS,CAAC,IAAI,UAAU,CAAC,SAAS,CAAC,EAAE;QACvD,OAAO,YAAY,CAAC,QAAQ,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC;KACrD;IACD,IAAI,eAAe,CAAC,SAAS,CAAC,IAAI,eAAe,CAAC,SAAS,CAAC,EAAE;QAC5D,OAAO,YAAY,CAAC,QAAQ,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC;KACrD;IAED,MAAM,IAAI,SAAS,CACjB,uEAAuE,CACxE,CAAC;AACJ,CAAC;AAED,eAAe,UAAU,CAAC","sourcesContent":["import identity from \"../identity\";\nimport IterableInfer from \"../types/IterableInfer\";\nimport { isAsyncIterable, isIterable } from \"../_internal/utils\";\nimport differenceBy from \"./differenceBy\";\n\n/**\n * Returns Iterable/AsyncIterable of all elements in the `iterable2` not contained in the `iterable1`.\n *\n * @example\n * ```ts\n * const iter = difference([2, 1], [2, 3, 4]);\n * iter.next(); // {value: 3, done:false}\n * iter.next(); // {value: 4, done:false}\n * iter.next(); // {value: undefined, done: true}\n * ```\n */\nfunction difference<T>(\n  iterable1: Iterable<T>,\n  iterable2: Iterable<T>,\n): IterableIterator<T>;\n\nfunction difference<T>(\n  iterable1: AsyncIterable<T>,\n  iterable2: Iterable<T>,\n): AsyncIterableIterator<T>;\n\nfunction difference<T>(\n  iterable1: Iterable<T>,\n  iterable2: AsyncIterable<T>,\n): AsyncIterableIterator<T>;\n\nfunction difference<T>(\n  iterable1: AsyncIterable<T>,\n  iterable2: AsyncIterable<T>,\n): AsyncIterableIterator<T>;\n\nfunction difference<\n  A extends Iterable<unknown> | AsyncIterable<unknown>,\n  B extends Iterable<unknown> | AsyncIterable<unknown>,\n>(\n  iterable1: A,\n): (\n  iterable2: B,\n) => A extends AsyncIterable<unknown>\n  ? AsyncIterableIterator<IterableInfer<B>>\n  : B extends AsyncIterable<unknown>\n  ? AsyncIterableIterator<IterableInfer<B>>\n  : IterableIterator<IterableInfer<B>>;\n\nfunction difference<T>(\n  iterable1: Iterable<T> | AsyncIterable<T>,\n  iterable2?: Iterable<T> | AsyncIterable<T>,\n):\n  | IterableIterator<T>\n  | AsyncIterableIterator<T>\n  | ((\n      iterable2: Iterable<T> | AsyncIterable<T>,\n    ) => IterableIterator<T> | AsyncIterableIterator<T>) {\n  if (iterable2 === undefined) {\n    return (iterable2: any) => {\n      return difference(iterable1 as any, iterable2);\n    };\n  }\n\n  if (isIterable(iterable1) && isIterable(iterable2)) {\n    return differenceBy(identity, iterable1, iterable2);\n  }\n  if (isIterable(iterable1) && isAsyncIterable(iterable2)) {\n    return differenceBy(identity, iterable1, iterable2);\n  }\n  if (isAsyncIterable(iterable1) && isIterable(iterable2)) {\n    return differenceBy(identity, iterable1, iterable2);\n  }\n  if (isAsyncIterable(iterable1) && isAsyncIterable(iterable2)) {\n    return differenceBy(identity, iterable1, iterable2);\n  }\n\n  throw new TypeError(\n    \"'iterable1' and 'iterable2' must be type of Iterable or AsyncIterable\",\n  );\n}\n\nexport default difference;\n"]}