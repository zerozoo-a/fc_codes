{"version":3,"file":"juxt.js","sourceRoot":"","sources":["../../src/juxt.ts"],"names":[],"mappings":";AA2BA;;;;;;;;;;;;;;;;;;;;;GAqBG;AAEH,SAAS,IAAI,CACX,EAA8B;IAE9B,OAAO;QAAC,cAAqB;aAArB,UAAqB,EAArB,qBAAqB,EAArB,IAAqB;YAArB,yBAAqB;;QAC3B,OAAA,EAAE,CAAC,GAAG,CAAC,UAAC,CAAQ,IAAK,OAAA,CAAC,wCAAK,IAAY,YAAlB,CAAmB,CAAQ;IAAhD,CAAgD,CAAC;AACrD,CAAC;AAED,eAAe,IAAI,CAAC","sourcesContent":["import type Append from \"./types/Append\";\nimport type Arrow from \"./types/Arrow\";\nimport type Cast from \"./types/Cast\";\nimport type Tail from \"./types/Tail\";\nimport type HasItem from \"./types/HasItem\";\n\ntype ParameterTuples<FS extends Arrow[], T = []> = HasItem<FS> extends true\n  ? ParameterTuples<Tail<FS>, Append<Cast<T, any[]>, Parameters<FS[0]>>>\n  : T;\n\ntype And<T extends any[], R = T[0]> = HasItem<T> extends true\n  ? And<Tail<T>, R & T[0]>\n  : R;\n\ntype JuxtArgs<\n  FS extends Arrow[],\n  R = Cast<And<ParameterTuples<FS>>, any[]>,\n> = R extends never ? undefined : R;\n\ntype ReturnTuples<FS extends Arrow[], T = []> = HasItem<FS> extends true\n  ? ReturnTuples<Tail<FS>, Append<Cast<T, any[]>, ReturnType<FS[0]>>>\n  : T;\n\ntype JuxtReturnTypes<ARGS, FS extends Arrow[]> = ARGS extends undefined\n  ? void\n  : ReturnTuples<FS>;\n\n/**\n * `juxt` applies a list of functions to a list of values.\n *\n * @example\n * ```ts\n * const range = juxt([Math.min, Math.max])(1, 2, 3, 4); // [1, 4]\n *\n * // with pipe\n * const entries = (obj: { a: number; b: number }) =>\n *   pipe(\n *     [Object.keys, Object.values] as const,\n *     juxt,\n *     (f) => f(obj),\n *     apply(zip),\n *     toArray,\n *   );\n *\n * entries({ a: 1, b: 2 }); // [ [\"a\", 1], [\"b\", 2] ]\n * ```\n *\n * see {@link https://fxts.dev/docs/pipe | pipe}, {@link https://fxts.dev/docs/apply | apply}\n */\n\nfunction juxt<FS extends Arrow[]>(\n  fs: [...FS] | readonly [...FS],\n): (...args: JuxtArgs<FS>) => JuxtReturnTypes<JuxtArgs<FS>, FS> {\n  return (...args: JuxtArgs<FS>) =>\n    fs.map((f: Arrow) => f(...(args as any))) as any;\n}\n\nexport default juxt;\n"]}