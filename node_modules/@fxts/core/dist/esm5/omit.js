import { __awaiter, __generator, __read } from "tslib.js";
import { isAsyncIterable, isIterable } from "./_internal/utils.js";
import toArray from "./toArray.js";
function inner(obj, keys) {
    return Object.fromEntries(Object.entries(obj).filter(function (_a) {
        var _b = __read(_a, 1), k = _b[0];
        return !keys.has(k);
    }));
}
function sync(iterable, obj) {
    var keys = new Set(iterable);
    return inner(obj, keys);
}
function async(iterable, obj) {
    return __awaiter(this, void 0, void 0, function () {
        var keys, _a;
        return __generator(this, function (_b) {
            switch (_b.label) {
                case 0:
                    _a = Set.bind;
                    return [4 /*yield*/, toArray(iterable)];
                case 1:
                    keys = new (_a.apply(Set, [void 0, _b.sent()]))();
                    return [2 /*return*/, inner(obj, keys)];
            }
        });
    });
}
function omit(iterable, obj) {
    if (obj === undefined) {
        return function (obj) { return omit(iterable, obj); };
    }
    if (isIterable(iterable)) {
        return sync(iterable, obj);
    }
    else if (isAsyncIterable(iterable)) {
        return async(iterable, obj);
    }
    throw new TypeError("'iterable' must be type of Iterable or AsyncIterable");
}
export default omit;
//# sourceMappingURL=omit.js.map